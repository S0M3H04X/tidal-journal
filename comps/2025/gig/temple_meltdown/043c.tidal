-- setcps(160/60/4)

do
  asap $ connectionMax 8 # speedSequenser 4
  let jrsyK = "[2 ~ 2 ~ ][2 ~ ~ 4 ~ ~ 2 ~]"
      dm = "akaimpc60"
      slicepat1 = "<[8 .. 15][0 .. 3][4 .. 7][0 .. 7]>"
      slicepat2 = "<7 .. 0>/2"
      slicepat3 = "<16 16 8 16>/2"
  -- d9 $ grid "1 0!7"
  d1 -- drum
    -- $ gtfo
    -- $ slow 2
    $ qt
    $ stack [
      -- every 4 (slow 2)
      -- $ n "<2(2,8) 7(3,8)>"
      -- every 16 ((1/4) ~>)
      n jrsyK
      # s "subk"
      # vowel "e"
      -- # octersubsub 4
      # legato 2.5
      # coarse 1
      ,jux rev
      $ n "3*16"
      # s "bshihat"
      |* speed (fast 4 $ rangex 1.2 1.8 saw)
      |* gain (fast 3 $ range 0.6 1 rand)
      -- ,sometimesBy 0.25 (|* vowel "<a e o>")
      -- $ every 4 ((1/8) ~>)
      ,n "~ 4 ~ 4"
      # s "cp"
    ]
    # gain 1.2
    # orbit 0
    # connectionN 1
  d2 -- bass
    $ gtfo
    -- $ every 2 (gtfo)
    $ qt
    $ loopAt 8
    $ chop 8
    $ n "<0 .. 3>"
    # s "taxibas"
    -- # speed (fast 4 $ range 1.2 0.6 $ sine*1.2)
    # octersubsub 2
    # gain 1.2
    # legato 1
    # orbit 1
    # connectionN 2
  d3 -- gtr & oth
    -- $ gtfo
    $ qt
    -- $ whenmod 4 3 (fast 6)
    $ slow 2
    $ every 4 (|* speed "<-1>")
    -- $ off 0.25 (jux rev)
    -- $ every 8 ((1/4) <~)
    $ loopAt 8
    $ chop 16
    -- $ every 2 (off 0.25 (|+ 1))
    $ slice 16 slicepat2
    $ stack [
      -- n "1 6 ~ 8"
      n "6"
      # s "tjukgtL"
      # pan 1,
      n "6"
      -- n "1 8 ~ 6"
      # s "tjukotR"
      # pan 1,
      n "8 ~ 6 1"
      -- n "6"
      # s "tjukgtR"
      # pan 0,
      n "6 ~ 8 1"
      -- n "6"
      # s "tjukotL"
      # pan 0
    ]
    # legato (slow 4 $ rangex 1 0.5 sine)
    -- # delay 0.05
    # delay 0.02 # delayt 0.01
    # room 0.8 # size 0.3
    # hpf 400
    # gain (rangex 1 1.2 saw)
    # orbit 2
    # connectionN 3
  d4 -- vocal
    $ gtfo
    $ qt
    $ every 16 gtfo
    -- $ ifp ((== 0). (flip mod 2)) (striate 2) (# squiz 2)
    -- $ every 8 (off 0.25 (|+ 2))
    $ loopAt 4
    $ chop 4
    -- $ slice 16 "<0 .. 7><8 .. 15>"
    $ stack [
      n "<[~ 3] ~ ~ [~ 3]><~ 3@3 [~ 3]>"
      # s "plmlvcl"
    ]
    # legato 1
    -- # bpf (range 600 4000 sine)
    # gain 1.1
    # orbit 3
    # connectionN 4
  d5 -- perc
    -- $ gtfo
    -- $ every 8 (bitemod 3 6 7)
    $ slow 2
    $ loopAt 1
    $ chop 1
    $ slice 16 (runmod 16 "<16 4 _ [8 1]>" 0)
    $ "breaks165:2"
    # cut 1
    -- |+ note (fast 4 $ range 0 3 isaw)
    # gain 1.1
    -- |* speed (fast 4 $ rangex 1.2 1.5 sine)
    -- |* pan (fast 3 $ range 0.6 1 rand)
    # connectionN 5
  d6 -- synth
    $ gtfo
    $ qt
    $ every 3 (slow 2)
    $ foldEvery [3,5] (linger "<0.5 0.25>")
    $ every 6 (bitemod 2 6 9)
    -- $ ifp ((== 0). (flip mod 2)) (striate 2) (# squiz 2)
    $ stack [
      loopAt 16
      $ chop 8
      $ note (scale "phrygian" $ runmod 8 "<5 8 12>/4" "0@5g <0 1>")
      # "mohisylp:5"
      # legato 1
      # hpf 1200
    ]-- splice effect
    # room 0.3
    # cut 1 # speed 1 # release 0.8 # attack 0.1
    -- # delay 0.05 # delayt 0.25
    # gain 1
    # connectionN 6




hush
