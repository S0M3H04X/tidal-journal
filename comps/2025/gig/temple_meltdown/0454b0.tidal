setcps(160/60/4)
-- "<[~ 5 ~ 2][5 2 [~ 2] 0]>"
-- "<2 4 ~ 5>"
hush

-- <[~ 5 ~ 2][5 2 [~ 2] 0]>/4

do
  asap $ connectionMax 8 # speedSequenser 4
  let jrsk = "[2 ~ 2 ~ ][2 ~ ~ 2 ~ ~ 2 ~]"
      ltck = "<[~ 5 ~ 2][5 2 [~ 2] 0]>"
      dm = "akaimpc60"
      slicepat1 = "<[8 .. 15][0 .. 3][4 .. 7][0 .. 7]>"
      slicepat2 = "<0 .. 7>"
      slicepat3 = "<0 .. 7>*2"
      slicepat4 = "<16 16 8 16>/2"
  d1 -- drum
    $ gtfo
    $ slow 2
    $ qt
    -- $ every 16 (linger "0.75 0.5")
    $ stack [
      -- n "<1(2,8) 3(3,8)>"
      -- slow 2
      loopAt 8
      $ chop 4
      $ slice slicepat4 (runmod 32 "<16 _ 8 [3 1]>" 0)
      -- $ slice 8 slicepat3
      $ n "1"
      # s "cuyodmlp"
      # legato 1
      -- # silence
      -- # coarse 1
      ,loopAt 4
      $ chop 4
      $ slice 16 slicepat2
      $ n "~ 2"
      # s "mdpclp"
      -- # octersubsub 2
      # legato 1
      -- # silence
      ,jux rev
      $ slow 2
      $ n "7*16"
      # s "bshihat"
      |* speed (fast 2 $ rangex 1.2 1.5 rand)
      |* gain (slow 3 $ range 0.6 0.8 saw)
      -- ,sometimesBy 0.25 (|* vowel "<a e o>")
      -- $ every 16 ((1/8) <~)
      , slow 4
      $ n "<[2! ~ ~] 4(5,16)>/2"
      # s "clap"
      , n "<[4!1 ~][2 ~]>/2"
      # s "kick"
      # octersubsub 2
      -- # ofx 1.0
    ]
    # gain 1
    # orbit 0
    # connectionN 1
  d2 -- bass
    $ gtfo
    $ every 2 (gtfo)
    $ qt
    $ chunk 4 (fast 2)
    $ loopAt 8
    $ chop 8
    -- $ slice 16 slicepat2
    $ n "<0 1 2>"
    # s "prmbslp"
    -- # bpf (fast 8 $ rangex 1000 4000 $ isaw/1.2)
    # octersubsub 1
    -- # speed (fast 4 $ range 1.2 0.6 $ sine*1.2)
    # gain 1
    # legato 1.5
    # orbit 1
    # connectionN 2
  d3 -- gtr & oth
    $ qt
    $ gtfo
    -- $ whenmod 4 3 (striate 2)
    $ slow 2
    -- $ every 4 (jux rev)
    $ off 0.25 (|* speed "<-1 1 -0.5>")
    -- $ every 8 ((1/8) ~>)
    $ chop 8
    $ loopAt 4
    -- $ slice 16 slicepat1
    $ sometimesBy 0.5 (off 0.25 (|- 1))
    $ stack [
      n 2
      # s "prsaotL"
      # pan 1,
      n 1
      # s "prsaotR"
      # pan 0
    ]
    # legato (fast 4 $ rangex 0.25 1 sine)
    # delay 0.05 # size 0.3
    # gain (rangex 1 0.8 saw)
    # orbit 2
    # connectionN 3
  d4 -- vocal
    $ gtfo
    $ qt
    -- $ slow 2
    $ spread ($) [
      id,
      fast 6,
      ((1/6) <~),
      (|* speed "0.5"),
      gtfo
    ]
    -- $ ifp ((== 0). (flip mod 2)) (iter 4) (# squiz 2)
    $ loopAt "4 8 16"
    $ chop "8"
    $ n ltck
    # s "bbbyvcl"
    # legato 1
    -- # hpf 4000
    # gain 1.2
    -- # orbit 5
    # connectionN 4
  d5 -- perc
    -- $ gtfo
    $ loopAt 8
    $ chop 2
    -- $ slice "<16 16 8 16>" (runmod 8 "<16 _ 8 [3 1]>" 0)
    $ slice 16 (runmod 16 "<16 2 _ [8 1]>" 0)
    $ "breaks165:4"
    # cut 1 |+ note (fast 4 $ range 0 3 isaw)
    # gain (slow 4 $ rangex 0.8 1 sine)
    -- # silence
    # connectionN 5
  d6 -- lead
    $ gtfo
    -- $ s "umrutnlp"
    $ slow 8
    $ every "3 7" (gtfo)
    $ stack [
      loopAt 4
      $ chop 8
      -- $ bitemod "<4 8 16>" 7 2
      -- $ splice 8 "<0 .. 7>"
      $ n "2"
      # s "umrutnlp"
      # release 0.8
      # legato 1
      # room 0.2 # size 0.8
      # pan (range 1 0.4 sine)
      , loopAt 16
      $ chop 16
      -- $ bitemod "<4 8 16>" 7 2
      -- $ splice 8 "<0 .. 7>"
      $ n "2"
      # s "umrutnlp"
      # release 0.2
      # cut 1
    ]
    # legato 2
    # room 0.4 # size 0.6
    # bpf 4000
    # delay 0.05 # delayt 0.01
    # gain 0.8
    # connectionN 6




hush
